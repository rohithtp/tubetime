<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TubeTime</title>
  <link rel="stylesheet" href="popup.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- Material Design App Bar -->
    <header class="app-bar">
      <div class="app-bar-content">
        <div class="app-bar-leading">
          <div class="app-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
            </svg>
          </div>
          <h1 class="app-title">TubeTime</h1>
        </div>
        <div class="app-bar-trailing">
          <div class="status-chip" id="statusIndicator">
            <span class="status-icon material-icons">fiber_manual_record</span>
            <span class="status-text">Inactive</span>
          </div>
        </div>
      </div>
    </header>

    <main class="main-content">
      <!-- Level & Progress Section -->
      <div class="card level-card">
        <div class="level-header">
          <div class="level-info">
            <div class="level-badge">
              <span class="level-number" id="currentLevel">1</span>
            </div>
            <div class="level-details">
              <h3 class="level-title">Level <span id="levelNumber">1</span></h3>
              <p class="level-subtitle">YouTube Master</p>
            </div>
          </div>
          <div class="xp-info">
            <span class="xp-text" id="xpDisplay">0 XP</span>
            <div class="xp-progress">
              <div class="xp-bar">
                <div class="xp-fill" id="xpProgress"></div>
              </div>
              <span class="xp-next" id="xpToNext">0 / 1000 XP</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Streak Section -->
      <div class="card streak-card">
        <div class="streak-header">
          <span class="material-icons streak-icon">local_fire_department</span>
          <div class="streak-info">
            <h3 class="streak-title">Daily Streak</h3>
            <p class="streak-count" id="streakCount">0 days</p>
          </div>
          <div class="streak-flame" id="streakFlame">
            <span class="material-icons">whatshot</span>
          </div>
        </div>
      </div>

      <!-- Current Session Card -->
      <div class="card session-card">
        <div class="card-header">
          <h2 class="card-title">
            <span class="material-icons">play_circle</span>
            Current Session
          </h2>
        </div>
        <div class="card-content">
          <div class="session-info">
            <div class="info-row">
              <span class="info-label">Session Time</span>
              <span class="info-value" id="sessionTime">0s</span>
            </div>
            <div class="info-row">
              <span class="info-label">Current Video</span>
              <span class="info-value video-title" id="currentVideo">No video playing</span>
            </div>
          </div>
          
          <div class="session-actions">
            <button class="btn btn-filled btn-primary" id="startBtn">
              <span class="material-icons">play_arrow</span>
              Start Tracking
            </button>
            <button class="btn btn-filled btn-secondary" id="stopBtn" disabled>
              <span class="material-icons">stop</span>
              Stop Tracking
            </button>
            <button class="btn btn-icon" id="refreshBtn" title="Refresh current video info">
              <span class="material-icons">refresh</span>
            </button>
          </div>
          
          <!-- Material Design Switch -->
          <div class="switch-container">
            <label class="switch">
              <input type="checkbox" id="autoTrackToggle">
              <span class="switch-track">
                <span class="switch-thumb"></span>
              </span>
              <span class="switch-label">Auto Tracking</span>
            </label>
          </div>
        </div>
      </div>

      <!-- Statistics Cards -->
      <div class="stats-grid">
        <div class="card stat-card">
          <div class="stat-content">
            <span class="stat-value" id="todayTime">0s</span>
            <span class="stat-label">Today</span>
          </div>
          <div class="stat-icon">
            <span class="material-icons">today</span>
          </div>
        </div>
        
        <div class="card stat-card">
          <div class="stat-content">
            <span class="stat-value" id="weekTime">0s</span>
            <span class="stat-label">This Week</span>
          </div>
          <div class="stat-icon">
            <span class="material-icons">date_range</span>
          </div>
        </div>
        
        <div class="card stat-card">
          <div class="stat-content">
            <span class="stat-value" id="totalTime">0s</span>
            <span class="stat-label">Total</span>
          </div>
          <div class="stat-icon">
            <span class="material-icons">schedule</span>
          </div>
        </div>
        
        <div class="card stat-card">
          <div class="stat-content">
            <span class="stat-value" id="totalSessions">0</span>
            <span class="stat-label">Sessions</span>
          </div>
          <div class="stat-icon">
            <span class="material-icons">list</span>
          </div>
        </div>
      </div>

      <!-- Achievements Section -->
      <div class="card achievements-card">
        <div class="card-header">
          <h2 class="card-title">
            <span class="material-icons">emoji_events</span>
            Achievements
          </h2>
        </div>
        <div class="card-content">
          <div class="achievements-grid" id="achievementsGrid">
            <!-- Achievements will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="actions-section">
        <div class="action-buttons">
          <button class="btn btn-filled btn-tonal" id="exportBtn">
            <span class="material-icons">download</span>
            Export Data
          </button>
          <button class="btn btn-filled btn-tonal" id="settingsBtn">
            <span class="material-icons">settings</span>
            Settings
          </button>
          <button class="btn btn-filled btn-tonal" id="clearBtn">
            <span class="material-icons">delete</span>
            Clear Data
          </button>
        </div>
      </div>
    </main>

    <!-- Material Design Dialog -->
    <div class="dialog-overlay" id="settingsModal">
      <div class="dialog">
        <div class="dialog-header">
          <h3 class="dialog-title">Settings</h3>
          <button class="btn btn-icon" id="closeSettings">
            <span class="material-icons">close</span>
          </button>
        </div>
        <div class="dialog-content">
          <div class="setting-item">
            <label class="setting-label">
              <input type="checkbox" id="autoTrack">
              <span class="checkbox">
                <span class="material-icons">check</span>
              </span>
              Auto-start tracking when YouTube opens
            </label>
          </div>
          <div class="setting-item">
            <label class="setting-label">Daily time limit (minutes)</label>
            <div class="text-field">
              <input type="number" id="dailyLimit" min="0" placeholder="0 = no limit">
            </div>
          </div>
          <div class="setting-item">
            <label class="setting-label">Export format</label>
            <div class="select-field">
              <select id="exportFormat">
                <option value="json">JSON</option>
                <option value="csv">CSV</option>
              </select>
              <span class="material-icons">expand_more</span>
            </div>
          </div>
        </div>
        <div class="dialog-actions">
          <button class="btn btn-text" id="cancelSettings">Cancel</button>
          <button class="btn btn-filled btn-primary" id="saveSettings">Save</button>
        </div>
      </div>
    </div>

    <!-- Confirmation Dialog -->
    <div class="dialog-overlay" id="confirmModal">
      <div class="dialog">
        <div class="dialog-header">
          <h3 class="dialog-title">Confirm Action</h3>
          <button class="btn btn-icon" id="closeConfirm">
            <span class="material-icons">close</span>
          </button>
        </div>
        <div class="dialog-content">
          <p id="confirmMessage">Are you sure you want to perform this action?</p>
        </div>
        <div class="dialog-actions">
          <button class="btn btn-text" id="cancelConfirm">Cancel</button>
          <button class="btn btn-filled btn-error" id="confirmAction">Confirm</button>
        </div>
      </div>
    </div>

    <!-- Achievement Unlocked Toast -->
    <div class="achievement-toast" id="achievementToast">
      <div class="achievement-toast-content">
        <span class="material-icons achievement-icon">emoji_events</span>
        <div class="achievement-text">
          <h4 id="achievementTitle">Achievement Unlocked!</h4>
          <p id="achievementDesc">You've earned a new achievement!</p>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html> 